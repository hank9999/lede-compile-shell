os: linux
dist: bionic
language: c
git:
  submodules: false
before_install: 
 - sudo apt update
 - sudo apt -y install python3
 - sudo apt -y install build-essential asciidoc binutils bzip2 gawk gettext git libncurses5-dev libz-dev patch python3 unzip zlib1g-dev lib32gcc1 libc6-dev-i386 subversion flex uglifyjs git-core gcc-multilib p7zip p7zip-full msmtp libssl-dev texinfo libglib2.0-dev xmlto qemu-utils upx libelf-dev autoconf automake libtool autopoint device-tree-compiler
 - git clone https://github.com/coolsnowwolf/lede
install: 
 - cd lede
 - ./scripts/feeds update -a
 - ./scripts/feeds install -a
 - wget -O .config https://raw.githubusercontent.com/hank9999/lede-compile-shell/master/.config
 - make defconfig
script: travis_wait 120 mvn script
 - make -j$(grep 'processor' /proc/cpuinfo | sort -u | wc -l) V=s
after_script: echo "OK"